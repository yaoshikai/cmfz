<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.baizhi.ysk.mapper.ArticleMapper">

    <select id="queryAllArticleBySsyj" resultType="Article">
        SELECT id,title,insert_img insertImg,content,pub_date pubDate
        from article
        where guru_id = (select g.id
                         from cmfz_user u
                                  left join guru g on u.guru_id = g.id
                         where u.id = #{uid})
    </select>

    <select id="queryAllArticleByXmfy" resultType="Article">
        SELECT id,title,insert_img insertImg,content,pub_date pubDate
        from article
        where guru_id!=(select g.id from cmfz_user u left join guru g on u.guru_id=g.id where u.id=#{uid})
    </select>

</mapper>
